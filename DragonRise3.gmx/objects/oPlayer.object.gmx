<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sLoader</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>set_sprite(sPlayerBasic,0);
instance_create(x,y,oPlayerCombat);
instance_create(x,y,oState);
instance_create(x,y,oHUD);
instance_create(x,y,oOptimatision);
Sname = part_system_create();

//surface = surface_create(room_width,room_height);
//surface_set_target(surface);
//draw_clear_alpha(c_white,0);
//surface_reset_target();

blur = 0;
load = 1;
dir = ""; 
h1 = 0;
rychlost = 3.5; 
can_move = 1;
can_move2 = 1;
a1 = 0;
last_dir = "s";
cyber_r = 0;
attack_interval = 40;
m1 = 0;
m2 = 0;

equ_draw_head         = 1;
equ_draw_left_plate   = 1;
egu_draw_right_plate  = 1;
equ_draw_body         = 1;
equ_draw_right_hand   = 1;
equ_draw_left_hand    = 1;
equ_draw_left_ring1   = 1;
equ_draw_left_ring2   = 1;
equ_draw_right_ring1  = 1;
equ_draw_right_ring2  = 1;
equ_draw_crown        = 1;
equ_draw_trophy1      = 1;
equ_draw_trophy2      = 1;
equ_draw_trophy3      = 1;
equ_draw_special1     = 1;
equ_draw_special2     = 1;
equ_draw_belt         = 1;
equ_draw_left_boot    = 1;
equ_draw_right_boot   = 1;

gold                  = 0;                                  // I am really not sure, but gold shouldn´t be item, right? 

for(a = 0; a &lt; celkem_vlastnosti; a++)
{
 vlastnost[a] = 0;
}
vlastnost[vlastnost_max_zivot] = 40;
vlastnost[vlastnost_zivot] = 40;
vlastnost[vlastnost_max_stit] = 10;
vlastnost[vlastnost_stit] = 10;
vlastnost[vlastnost_max_stamina] = 15;
vlastnost[vlastnost_stamina] = 15;
vlastnost[vlastnost_max_mana] = 50;
vlastnost[vlastnost_mana] = 50;
vlastnost[vlastnost_max_zkusenosti] = 100;
vlastnost[vlastnost_level] = 1;


last_hp = vlastnost[vlastnost_zivot];
last_stit = vlastnost[vlastnost_stit];
last_stamina = vlastnost[vlastnost_stamina];
last_mana = vlastnost[vlastnost_mana];
last_xp = 0;

vlastnost[vlastnost_kriticka_sance] = 50;
vlastnost[vlastnost_kriticka_nasobic] = 2;

vlastnost[vlastnost_tick_stamina] = 50;
vlastnost[vlastnost_tick_stamina_add] = 1;

stamina_tick = vlastnost[vlastnost_tick_stamina]; 

sprinting = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>part_system_destroy(Sname);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>apiPlayerMoveStand();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (load &gt; 0) {load -- } else {load = -1; event_user(0);}
apiPlayerMove();
    
    
cyber_r ++;
//surface_set_target(surface);
//draw_circle(x,y,cyber_r,0);

//surface_reset_target();

if (keyboard_check_pressed(ord("P")))
   {
   //show_message(inventoryNumber(1))
   instance_create(x,y,oAchievment);
   }

if (vlastnost[vlastnost_zkusenosti] &gt; vlastnost[vlastnost_max_zkusenosti]) 
   {
   event_user(1);
   
   }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Level up
vlastnost[vlastnost_max_zkusenosti] = round(vlastnost[vlastnost_zkusenosti]+log2(vlastnost[vlastnost_zkusenosti])+vlastnost[vlastnost_zkusenosti]/3);
vlastnost[vlastnost_zkusenosti] = 0;
last_xp = 0;
vlastnost[vlastnost_level]++; 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//draw_surface_ext(surface,0,0,1,1,0,c_white,1);
draw_self();

//surface_set_target(surface);
//surface_reset_target();


draw_text(x,y-32,"Poškození: "+string(vlastnost[vlastnost_poskozeni]));
draw_text(x,y-48,"Zlato: "+string(gold));

//draw_text(x,y+64,vlastnost[vlastnost_vykresli_sprit]);
//if (speed &gt; 0) {if (blur &lt; 32) {blur++}} else {if (blur &gt; 0) {blur--;}}
// blurdirection = point_direction(x, y, xprevious, yprevious);
//motion_blur(blur, blurdirection);

stamina_dif = abs(last_stamina - vlastnost[vlastnost_stamina]);
if (stamina_dif &lt;= 5) {stamina_bar = 0.1;}
health_dif = abs(last_hp - vlastnost[vlastnost_zivot]);
if (health_dif &lt;= 5) {health_bar = 0.1;}
   else {health_bar = 1;} 

      
if (last_hp &lt; vlastnost[vlastnost_zivot]) {last_hp += health_bar;}
if (last_hp &gt; vlastnost[vlastnost_zivot]) {last_hp -= health_bar;}

if (last_stit &lt; vlastnost[vlastnost_stit]) {last_stit++;}
if (last_stit &gt; vlastnost[vlastnost_stit]) {last_stit--;}

if (last_mana &lt; vlastnost[vlastnost_mana]) {last_mana++;}
if (last_mana &gt; vlastnost[vlastnost_mana]) {last_mana--;}

if (last_stamina &lt; vlastnost[vlastnost_stamina]) {last_stamina += stamina_bar;}
if (last_stamina &gt; vlastnost[vlastnost_stamina]) {last_stamina -= stamina_bar;}

if (last_xp &lt; vlastnost[vlastnost_zkusenosti]) {last_xp++;}
if (last_xp &gt; vlastnost[vlastnost_zkusenosti]) {last_xp--;}

//if (last_hp &lt;= 0 &amp;&amp; last_hp != -666) {last_hp = -666; scrGoreExplode(10,10);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
