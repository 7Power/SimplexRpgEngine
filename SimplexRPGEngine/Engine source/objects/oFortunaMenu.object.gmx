<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-800</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set up  

bacAlpha      = 0;
mode          = "in";
indexSelected = 0;
itemsCount    = 3;
draw          = true;

bonus[0]  = "Dva body síly";
bonus[1]  = "Dva body inteligence";
bonus[2]  = "15 bodů zdraví";
bonus[3]  = "15 bodů many";
bonus[4]  = "Dva body výřečnosti";
bonus[5]  = "Tři body obratnosti";
bonus[6]  = "250 zkušeností";
bonus[7]  = "Tři body síly";
bonus[8]  = "Jeden bod zručnosti";
bonus[9]  = "Dva body štěstí";
bonus[10] = "Dva body vytrvalosti";

bonusDetail[0]  = "Kde nepomůže síla, tam pomůže více síly!";
bonusDetail[1]  = "Svět je mnohem zářivější místo, když pro něj nezáříš příliš jasně!";
bonusDetail[2]  = "Ať nám slouží!";
bonusDetail[3]  = "Více many, více kouzel!";
bonusDetail[4]  = "Pokud přihlédneme k současné situaci, je možné,#že místo dvou bodů kvůli neočekávaným problémům dostaneš jeden.";
bonusDetail[5]  = "Hop, skok, přes potok!";
bonusDetail[6]  = "Dobrodružství čeká za rohem!";
bonusDetail[7]  = "Odvážným štěstí přeje, ale silným přát musí!";
bonusDetail[8]  = "Méně hřebíků zatlučených v ruce!";
bonusDetail[9]  = "Proč si za štěstí nepořídit víc štěstí?";
bonusDetail[10] = "Nepříliš velká odměna za vytrvalost, která tě dovedla až sem.";


list = ds_list_create();

// Get three random indexes to be choosen from
randomize();
for (var i = 0; i &lt; array_length_1d(bonus); i++)
    {
     ds_list_add(list, i);
    }

for (var i = 0; i &lt; array_length_1d(bonus) - itemsCount; i++)
    {
     ds_list_delete(list, irandom(ds_list_size(list)));
    }
    

oPlayer.can_move4 = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Free memory

ds_list_destroy(list);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Activate choosen bonus

if (list[| indexSelected] == 0)  {apiPlayerIncProperty(vlastnost_sila, 2);}
if (list[| indexSelected] == 1)  {apiPlayerIncProperty(vlastnost_inteligence, 2);}
if (list[| indexSelected] == 2)  {apiPlayerIncProperty(vlastnost_max_zivot, 15);}
if (list[| indexSelected] == 3)  {apiPlayerIncProperty(vlastnost_max_mana, 15);}
if (list[| indexSelected] == 4)  {apiPlayerIncProperty(vlastnost_vyrecnost, 2);}
if (list[| indexSelected] == 5)  {apiPlayerIncProperty(vlastnost_obratnost, 3);}
if (list[| indexSelected] == 6)  {apiPlayerGetXP(250);}
if (list[| indexSelected] == 7)  {apiPlayerIncProperty(vlastnost_sila, 3);}
if (list[| indexSelected] == 8)  {apiPlayerIncProperty(vlastnost_zrucnost, 1);}
if (list[| indexSelected] == 9)  {apiPlayerIncProperty(vlastnost_stesti, 2);}
if (list[| indexSelected] == 10) {apiPlayerIncProperty(vlastnost_vytrvalost, 2);}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw menu

var tempY;

if (mode == "in")  {bacAlpha = lerp(bacAlpha, 1, 0.1);}
if (mode == "out") {bacAlpha = lerp(bacAlpha, 0, 0.1); if (bacAlpha &lt; 0.05) {instance_destroy(); oPlayer.can_move4 = true; draw = false;}}

// Draw background
if (draw)
{
clr(c_black, bacAlpha / 4 * 3);
draw_rectangle(view_xview, view_yview, view_xview + view_wview, view_yview + view_yview, false); 

// Draw caption
clr(c_white, bacAlpha);
alg("center", fntPixelHuge);
draw_text(view_xview + view_wview / 2, view_yview + 100, "Vyber si jeden z bonusů");
fnt(fntPixel);

// Draw options
for (var i = 0; i &lt; itemsCount; i++)
    {
     var index = list[| i];
     var color = c_white;
     var text  = bonus[index];
     tempY     = (view_yview + 150 + (i * 48));
     if (i == indexSelected) {text = "&gt; " + bonus[index]; color = c_yellow}
     
     clr(color, -1);
     draw_text(view_xview + view_wview / 2, tempY, text); 
    }

clr(c_white, -1);
fnt(fntPixelSmall);
draw_text(view_xview + view_wview / 2, tempY + 64, bonusDetail[list[| indexSelected]]);    
alg();
clr();

// Navigation
if (mode == "in")
   {
    if (keyboard_check_pressed(ord("W"))) {if (indexSelected &gt; 0) {indexSelected--;} else {indexSelected = itemsCount - 1;}}
    if (keyboard_check_pressed(ord("S"))) {if (indexSelected &lt; itemsCount - 1) {indexSelected++;} else {indexSelected = 0;}}
    if (keyboard_check_pressed(vk_enter)) {event_user(0); mode = "out"; /* Activate choosen bonus */}
   }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
