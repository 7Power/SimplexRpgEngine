<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sBodyCanvasHumanWalk1</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>-1</persistent>
  <parentName>parSolid</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Initialise

apiPlayerCreate();
event_inherited();

// scrSimpleLightIni() // &lt;-- TODO
sprLight      = sBasicLight;
sprLightIndex = 0;
scale         = 2;
color         = c_white;
sprAlpha      = 0.5;
rot           = 0;

apiPlayerIni();


vlastnost[vlastnost_kriticka_sance]   = 50;
vlastnost[vlastnost_kriticka_nasobic] = 2;

vlastnost[vlastnost_tick_stamina]     = 50;
vlastnost[vlastnost_tick_stamina_add] = 1;

stamina_tick = vlastnost[vlastnost_tick_stamina]; 

apiPlayerAssignSpell(0, "flash",        sSpellFlash);
apiPlayerAssignSpell(1, "frozen_bolts", sSpellFrozenBolts);
apiPlayerAssignSpell(2, "fire_trail",   sSpellFireBeam);




magic[spell_fireball_cost]     = 20;
magic[spell_fireball_damage]   = 15;
magic[spell_fireball_cooldown] = 80;

magic[spell_frozen_bolts_cost]     = 25;
magic[spell_frozen_bolts_damage]   = 8;
magic[spell_frozen_bolts_cooldown] = 220;   
magic[spell_frozen_bolts_number]   = 5;

magic[spell_fire_trail_damage] = 0.8;
magic[spell_fire_trail_cost]   = 4;

magic[spell_flash_cost]     = 8;
magic[spell_flash_cooldown] = 60;

magic[spell_vines_cost]     = 15;
magic[spell_vines_cooldown] = 240;
magic[spell_vines_damage]   = 5;


skillPoints    = 10;
propertyPoints = 5;
talentPoints   = 10;
spellPoints    = 20;

testStatus       = 0;
time             = 0;
currentAnimation = animationEnum.walk;
bci[5, 16]       = 0;

scrBodyCanvasDB();
scrBodyCanvasIni(animationEnum.walk, sBodyCanvasHumanWalk1, sBodyCanvasArmor1, sBodyCanvasHood1, sBodyCanvasBelt1, sBodyCanvasLegs1, sBodyCanvasShoes1, sBodyCanvasHands1, 0);
scrBodyCanvasIni(animationEnum.slash, sBodyCanvasAttack1, sBodyCanvasAttackArmor1, sBodyCanvasAttackHead1, sBodyCanvasAttackBelt1, sBodyCanvasAttackLegs1, sBodyCanvasAttackShoes1, sBodyCanvasAttackHands1, 0);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Free PSystem

part_system_destroy(Sname);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Timeline spells DB

randomize();

if (magic_repeat &gt; 0) {magic_repeat--; alarm[1] = magic_timer + random(3);} else {can_move3 = 1;}

if (magic_id = "frozen_bolt")
   {
    i = instance_create(x,y,oBasicSpell); 
    i.type = "frozen_bolt";
   }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Handle stacionary movement

apiPlayerMoveStand();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Handle movement &amp; actions

apiPlayerMove();
apiPlayerOtherActions();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>effectExplosion()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="72">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Handle building

if (instance_number(oFence) &gt; 0)
    {
     fenceFound  = false;
     maxAttempts = instance_number(oFence);
     attempts    = 0;
     iB = instance_nearest(x, y, oFence);
     iD = distance_to_object(iB);     
     
     if (iD &lt; 15 &amp;&amp; iD &gt; 0)
     {
     while(!fenceFound &amp;&amp; (attempts &lt; maxAttempts))
     {
      iB = instance_nnearest(x, y, oFence, attempts);
      iD = distance_to_object(iB);
      
      if (!iB.built) {fenceFound = true;}
      attempts++;
     }
     
     if (iD &lt; 15 &amp;&amp; iD &gt; 0)
        {
         iB.drawText = true;
        }
     }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw player

apiPlayerDraw();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
